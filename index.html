<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIA TEC: Soluciones Informaticas Avanzadas</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'accent-blue': '#00BFFF', // Azul El√©ctrico/Cian Vibrante
                        'accent-green': '#7FFF00', // Verde Ne√≥n/Lima Brillante
                        'base-light': '#F9FAFB', // Gris muy claro para fondo
                        'text-dark': '#333333',  // Gris oscuro para texto
                        'purple-600': '#8A2BE2', // Nuevo color para el bot√≥n del asistente de laptops
                    },
                    fontFamily: {
                        montserrat: ['Montserrat', 'sans-serif'],
                        'open-sans': ['Open Sans', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            color: #333333; /* Color de texto secundario */
            background-color: #F9FAFB; /* Color de fondo principal */
            overflow-x: hidden; /* Evita el scroll horizontal */
        }
        h1, h2, h3 {
            font-family: 'Montserrat', sans-serif;
            color: #333333;
        }
        /* Estilos para el scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #F9FAFB;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #00BFFF;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #0099CC;
        }

        /* Animaci√≥n de micro-interacci√≥n para botones */
        .btn-hover-effect:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 191, 255, 0.3);
        }
        .btn-green-hover-effect:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(127, 255, 0, 0.3);
        }

        /* Animaci√≥n para tarjetas de producto */
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        /* Estilos para el modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background-color: white;
            padding: 2.5rem;
            border-radius: 1.5rem; /* Bordes redondeados */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 600px; /* Aumentado para el diagn√≥stico */
            transform: scale(0.95);
            transition: transform 0.3s ease;
            max-height: 90vh; /* Para que el contenido no se salga en pantallas peque√±as */
            overflow-y: auto; /* Scroll si el contenido es muy largo */
        }
        .modal-overlay.active .modal-content {
            transform: scale(1);
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #00BFFF;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* Estilo para precio tachado */
        .original-price {
            text-decoration: line-through;
            color: #888;
            font-size: 0.9em;
        }
        /* Estilo para el badge de oferta */
        .offer-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background-color: #FF4500; /* Naranja para ofertas */
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 0.75rem;
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 10;
        }
        /* --- NUEVO CSS para el efecto de zoom y manejo de desborde --- */
        .product-card {
            /* Asegura que el contenido (la imagen con zoom) no se desborde del card */
            overflow: hidden;
        }

        .product-card img {
            /* Transici√≥n suave para el efecto de zoom */
            transition: transform 0.3s ease-in-out;
        }

        .product-card img:hover {
            /* Escala la imagen al 110% (puedes ajustar el valor) */
            transform: scale(1.1);
        }
        /* --- FIN de NUEVO CSS --- */

        /* Estilos para botones flotantes */
        /* Contenedor de botones flotantes */
        .floating-buttons-container {
            position: fixed;
            bottom: 1rem; /* Ajustado para un poco m√°s de margen inferior en m√≥vil */
            right: 1rem; /* Ajustado para un poco m√°s de margen derecho en m√≥vil */
            display: flex;
            flex-direction: column-reverse; /* Carrito arriba, WhatsApp abajo en m√≥vil */
            gap: 1rem; /* Espacio entre los botones */
            z-index: 999;
        }

        .floating-button {
            background-color: #00BFFF; /* Color por defecto, se sobrescribe para WhatsApp */
            color: white;
            border-radius: 9999px; /* Completamente redondo */
            padding: 0.8rem; /* Padding ajustado para ser m√°s compacto en m√≥vil */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem; /* Tama√±o de √≠cono ajustado */
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        .floating-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
        }

        .floating-button.whatsapp {
            background-color: #25D366; /* Color de WhatsApp */
        }

        .floating-button.whatsapp:hover {
            background-color: #1DA851; /* Color de WhatsApp m√°s oscuro al pasar el rat√≥n */
        }

        .floating-button .label {
            font-size: 0.9rem; /* Tama√±o de fuente ajustado */
            font-weight: 600;
            margin-left: 0.5rem;
            display: none; /* Oculto por defecto en m√≥viles */
        }

        /* Mostrar texto del bot√≥n flotante en pantallas m√°s grandes y ajustar layout */
        @media (min-width: 768px) {
            .floating-buttons-container {
                flex-direction: row; /* En fila en desktop */
                bottom: 2rem;
                right: 2rem;
            }
            .floating-button {
                padding: 1rem; /* Padding est√°ndar en desktop */
            }
            .floating-button .label {
                display: inline-block;
            }
            .floating-button.whatsapp {
                padding: 1rem 1.5rem; /* Ajuste de padding para el texto */
            }
        }
    </style>
</head>
<body>

    <header class="bg-white shadow-md py-4 px-4 md:px-12 flex justify-between items-center rounded-b-xl">
        <div class="flex items-center">
            <img src="https://i.ibb.co/YTfqG2rp/LOG.png" alt="SIA TEC Logo" class="h-10 w-10 mr-3 rounded-lg">
            <span class="text-2xl font-montserrat font-bold text-text-dark">SIATEC</span>
        </div>

        <nav class="hidden md:flex space-x-8">
            <a href="#hero" class="text-lg font-open-sans text-text-dark hover:text-accent-blue transition duration-300">Inicio</a>
            <a href="#offers" class="text-lg font-open-sans text-text-dark hover:text-accent-blue transition duration-300">Ofertas</a>
            <a href="#products" class="text-lg font-open-sans text-text-dark hover:text-accent-blue transition duration-300">Laptops</a>
            <a href="#services" class="text-lg font-open-sans text-text-dark hover:text-accent-blue transition duration-300">Reparaci√≥n</a>
            <a href="#contact" class="text-lg font-open-sans text-text-dark hover:text-accent-blue transition duration-300">Contacto</a>
            <a href="#licenses" class="text-lg font-open-sans text-text-dark hover:text-accent-blue transition duration-300">Licencias y Activacion üîë</a>
        </nav>

        <div class="flex items-center space-x-4 md:space-x-6">
            <div class="relative">
                <!-- Ajuste: input de b√∫squeda ahora es w-full en m√≥viles cuando est√° activo -->
                <input type="text" id="search-input" placeholder="Buscar..." class="hidden absolute right-0 top-1/2 -translate-y-1/2 w-full md:w-48 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-blue text-sm">
                <button id="search-toggle" class="text-text-dark hover:text-accent-blue transition duration-300 text-xl focus:outline-none">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <button id="cart-icon" class="relative text-text-dark hover:text-accent-blue transition duration-300 text-xl focus:outline-none">
                <i class="fas fa-shopping-cart"></i>
                <span id="cart-count" class="absolute -top-2 -right-2 bg-accent-green text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">0</span>
            </button>
            <button id="mobile-menu-button" class="md:hidden text-text-dark text-xl focus:outline-none">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg py-4 px-6 rounded-b-xl">
        <nav class="flex flex-col space-y-4 items-center">
            <a href="#hero" class="text-lg font-open-sans text-text-dark hover:text-accent-blue transition duration-300" onclick="document.getElementById('mobile-menu').classList.add('hidden')">Inicio</a>
            <a href="#offers" class="text-lg font-open-sans text-text-dark hover:text-accent-blue transition duration-300" onclick="document.getElementById('mobile-menu').classList.add('hidden')">Ofertas</a>
            <a href="#products" class="text-lg font-open-sans text-text-dark hover:text-accent-blue transition duration-300" onclick="document.getElementById('mobile-menu').classList.add('hidden')">Laptops</a>
            <a href="#services" class="text-lg font-open-sans text-text-dark hover:text-accent-blue transition duration-300" onclick="document.getElementById('mobile-menu').classList.add('hidden')">Reparaci√≥n</a>
            <a href="#contact" class="text-lg font-open-sans text-text-dark hover:text-accent-blue transition duration-300" onclick="document.getElementById('mobile-menu').classList.add('hidden')">Contacto</a>
            <a href="#licenses" class="text-lg font-open-sans text-text-dark hover:text-accent-blue transition duration-300" onclick="document.getElementById('mobile-menu').classList.add('hidden')">Licencias y Activacion üîë</a>
        </nav>
    </div>

    <section id="hero" class="relative bg-center h-screen text-center rounded-b-xl"
        style="background-image: url('https://i.ibb.co/Fb93s8Wf/1749964525606.png'); background-size: contain; background-repeat: repeat;">
        <div class="absolute inset-0 bg-black opacity-40 rounded-b-xl"></div>
        <div class="relative z-10 p-8 max-w-4xl mx-auto flex flex-col h-full">
            <!-- T√≠tulo movido al inicio y sin margen inferior autom√°tico -->
            <h1 class="text-5xl md:text-7xl font-montserrat font-bold text-white leading-tight mt-0">Soluciones Informaticas Avanzadas.</h1>

            <!-- Este contenedor se empuja al final de la secci√≥n -->
            <div class="mt-auto">
                <p class="text-xl md:text-2xl font-open-sans text-gray-200 mb-10">Venta y Reparaci√≥n de Equipos de computo con Garant√≠a y Eficiencia.</p>
                <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6 flex-wrap">
                    <a href="#products" class="inline-block bg-accent-blue text-white font-montserrat font-semibold py-3 px-8 rounded-full text-lg hover:bg-opacity-90 transition duration-300 btn-hover-effect rounded-xl">Explora Laptops</a>
                    <a href="#services" class="inline-block bg-accent-green text-text-dark font-montserrat font-semibold py-3 px-8 rounded-full text-lg hover:bg-opacity-90 transition duration-300 btn-green-hover-effect rounded-xl">Solicitar Reparaci√≥n</a>
                    <!-- Nuevo bot√≥n para el Asistente de Laptops -->
                    <button id="laptop-assistant-btn" class="inline-block bg-purple-600 text-white font-montserrat font-semibold py-3 px-8 rounded-full text-lg hover:bg-opacity-90 transition duration-300 btn-hover-effect rounded-xl">
                        Descubre la computadora ideal para ti ‚ú®
                    </button>
                </div>
            </div>
        </div>
    </section>

    <section id="offers" class="py-16 px-6 md:px-12 bg-white">
        <h2 class="text-4xl font-montserrat font-bold text-center mb-12">Ofertas Exclusivas üî•</h2>
        <!-- Modificado: grid-cols-2 por defecto, gap m√°s peque√±o -->
        <div id="offers-grid" class="grid grid-cols-2 gap-4 md:grid-cols-2 max-w-4xl mx-auto">
            </div>
    </section>

    <section id="products" class="py-16 px-6 md:px-12 bg-base-light">
        <h2 class="text-4xl font-montserrat font-bold text-center mb-12">Laptops</h2>

        <div class="flex flex-wrap justify-center gap-4 mb-10">
            <button class="bg-white text-text-dark px-5 py-2 rounded-full border border-gray-300 hover:bg-accent-blue hover:text-white transition duration-300 rounded-xl">Todas</button>
            <button class="bg-white text-text-dark px-5 py-2 rounded-full border border-gray-300 hover:bg-accent-blue hover:text-white transition duration-300 rounded-xl">Dell</button>
            <button class="bg-white text-text-dark px-5 py-2 rounded-full border border-gray-300 hover:bg-accent-blue hover:text-white transition duration-300 rounded-xl">HP</button>
            <button class="bg-white text-text-dark px-5 py-2 rounded-full border border-gray-300 hover:bg-accent-blue hover:text-white transition duration-300 rounded-xl">Lenovo</button>
            <button class="bg-white text-text-dark px-5 py-2 rounded-full border border-gray-300 hover:bg-accent-blue hover:text-white transition duration-300 rounded-xl">Asus</button>
        </div>

        <!-- Modificado: grid-cols-2 por defecto, gap m√°s peque√±o -->
        <div id="product-grid" class="grid grid-cols-2 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
            </div>
    </section>

    <!-- Secci√≥n de Licencias de Windows -->
    <section id="licenses" class="py-16 px-6 md:px-12 bg-white">
        <h2 class="text-4xl font-montserrat font-bold text-center mb-12">Licencias y Activacion üîë</h2>
        <div class="max-w-4xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-8">
            <!-- Tarjeta para Windows 10 Pro -->
            <div class="product-card bg-base-light p-6 rounded-xl shadow-md flex flex-col items-center text-center">
                <img src="https://placehold.co/200x150/0078D4/FFFFFF?text=Windows+10+Pro" alt="Windows 10 Pro License" class="w-32 h-auto object-contain mb-4 rounded-lg">
                <h3 class="text-2xl font-montserrat font-semibold mb-2">Windows 10 Pro</h3>
                <p class="text-md font-open-sans text-gray-700 mb-4">Adquiere tu licencia original de Windows 10 Pro. Ideal para negocios y usuarios avanzados que requieren caracter√≠sticas de seguridad y gesti√≥n adicionales.</p>
                <span class="text-2xl font-montserrat font-bold text-accent-blue mb-4">$2,500.00 MXN</span>
                <button class="add-to-cart-btn bg-accent-blue text-white px-6 py-3 rounded-full text-lg font-semibold hover:bg-opacity-90 transition duration-300 btn-hover-effect rounded-xl" data-product-id="100">
                    <i class="fas fa-shopping-cart mr-2"></i>Comprar Ahora
                </button>
            </div>
            <!-- Tarjeta para Windows 11 Pro -->
            <div class="product-card bg-base-light p-6 rounded-xl shadow-md flex flex-col items-center text-center">
                <img src="https://placehold.co/200x150/0078D4/FFFFFF?text=Windows+11+Pro" alt="Windows 11 Pro License" class="w-32 h-auto object-contain mb-4 rounded-lg">
                <h3 class="text-2xl font-montserrat font-semibold mb-2">Windows 11 Pro</h3>
                <p class="text-md font-open-sans text-gray-700 mb-4">Actualiza a la √∫ltima versi√≥n con una licencia original de Windows 11 Pro. Disfruta de una interfaz moderna y nuevas funciones de productividad.</p>
                <span class="text-2xl font-montserrat font-bold text-accent-blue mb-4">$3,500.00 MXN</span>
                <button class="add-to-cart-btn bg-accent-blue text-white px-6 py-3 rounded-full text-lg font-semibold hover:bg-opacity-90 transition duration-300 btn-hover-effect rounded-xl" data-product-id="101">
                    <i class="fas fa-shopping-cart mr-2"></i>Comprar Ahora
                </button>
            </div>
        </div>
    </section>

    <section id="services" class="py-16 px-6 md:px-12 bg-white">
        <h2 class="text-4xl font-montserrat font-bold text-center mb-12">Servicios de Reparaci√≥n</h2>
        <div class="max-w-3xl mx-auto text-center">
            <p class="text-lg font-open-sans mb-8">En SIA TEC, ofrecemos un servicio de reparaci√≥n de Equipos de computo integral y confiable. Desde diagn√≥sticos precisos hasta reparaciones de hardware y software, nuestro equipo de expertos est√° listo para devolverle la vida a tu equipo.</p>
            <!-- Modificado: sm:grid-cols-2 a√±adido, gap m√°s peque√±o -->
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-6 mb-10">
                <div class="bg-base-light p-8 rounded-xl shadow-sm hover:shadow-lg transition duration-300">
                    <i class="fas fa-microchip text-4xl text-accent-blue mb-4"></i>
                    <h3 class="text-2xl font-montserrat font-semibold mb-3">Reparaci√≥n de Hardware</h3>
                    <p class="text-md font-open-sans">Cambio de pantallas, teclados, bater√≠as, discos duros, y componentes internos.</p>
                </div>
                <div class="bg-base-light p-8 rounded-xl shadow-sm hover:shadow-lg transition duration-300">
                    <i class="fas fa-laptop-code text-4xl text-accent-blue mb-4"></i>
                    <h3 class="text-2xl font-montserrat font-semibold mb-3">Mantenimiento de Software</h3>
                    <p class="text-md font-open-sans">Eliminaci√≥n de virus, optimizaci√≥n de sistema, instalaci√≥n de sistemas operativos.</p>
                </div>
                <div class="bg-base-light p-8 rounded-xl shadow-sm hover:shadow-lg transition duration-300">
                    <i class="fas fa-diagnoses text-4xl text-accent-blue mb-4"></i>
                    <h3 class="text-2xl font-montserrat font-semibold mb-3">Diagn√≥stico y Asesor√≠a</h3>
                    <p class="text-md font-open-sans">Diagn√≥stico gratuito y asesoramiento personalizado para tus necesidades.</p>
                </div>
                <div class="bg-base-light p-8 rounded-xl shadow-sm hover:shadow-lg transition duration-300">
                    <i class="fas fa-fan text-4xl text-accent-blue mb-4"></i>
                    <h3 class="text-2xl font-montserrat font-semibold mb-3">Limpieza y Optimizaci√≥n</h3>
                    <p class="text-md font-open-sans">Limpieza interna, cambio de pasta t√©rmica y optimizaci√≥n de rendimiento.</p>
                </div>
            </div>
            <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6 mt-8">
                <a href="#" id="cotizar-reparacion-btn" class="inline-block bg-accent-green text-text-dark font-montserrat font-semibold py-3 px-8 rounded-full text-lg hover:bg-opacity-90 transition duration-300 btn-green-hover-effect rounded-xl">Cotizar Reparaci√≥n</a>
                <button id="ai-diagnosis-btn" class="inline-block bg-accent-blue text-white font-montserrat font-semibold py-3 px-8 rounded-full text-lg hover:bg-opacity-90 transition duration-300 btn-hover-effect rounded-xl">
                    Diagn√≥stico Inteligente ‚ú®
                </button>
            </div>
        </div>
    </section>

    <section id="about" class="py-16 px-6 md:px-12 bg-base-light">
        <h2 class="text-4xl font-montserrat font-bold text-center mb-12">¬øPor Qu√© Elegir SIA TEC?</h2>
        <div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
            <div class="text-center md:text-left">
                <p class="text-lg font-open-sans leading-relaxed mb-6">En SIA TEC, nos apasiona la tecnolog√≠a y nos dedicamos a ofrecer soluciones integrales para tus laptops. Con a√±os de experiencia, un equipo de t√©cnicos certificados y un compromiso inquebrantable con la calidad, somos tu socio tecnol√≥gico de confianza.</p>
                <p class="text-lg font-open-sans leading-relaxed">Nuestra misi√≥n es brindarte productos de alta calidad y servicios de reparaci√≥n eficientes, garantizando que tu experiencia tecnol√≥gica sea siempre la mejor.</p>
            </div>
            <div class="space-y-6">
                <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
                    <p class="text-md italic font-open-sans text-gray-700 mb-3">"Excelente servicio de reparaci√≥n, mi laptop qued√≥ como nueva. ¬°Totalmente recomendados!"</p>
                    <p class="text-sm font-montserrat font-semibold text-accent-blue">- Ana G.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
                    <p class="text-md italic font-open-sans text-gray-700 mb-3">"Compr√© mi laptop aqu√≠ y la atenci√≥n fue de primera. Muy satisfecho con mi compra."</p>
                    <p class="text-sm font-montserrat font-semibold text-accent-blue">- Carlos M.</p>
                </div>
            </div>
        </div>
    </section>

    <footer id="contact" class="bg-text-dark text-white py-12 px-6 md:px-12 rounded-t-xl">
        <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
                <h3 class="text-xl font-montserrat font-bold mb-4">Contacto</h3>
                <p class="text-md font-open-sans mb-2"><i class="fas fa-phone-alt mr-2 text-accent-blue"></i> +52 77 1395 1347</p>
                <p class="text-md font-open-sans mb-2"><i class="fas fa-envelope mr-2 text-accent-blue"></i> info@siatec.com</p>
                <p class="text-md font-open-sans"><i class="fas fa-map-marker-alt mr-2 text-accent-blue"></i> Pachuca, Hidalgo, M√©xico</p>
            </div>

            <div>
                <h3 class="text-xl font-montserrat font-bold mb-4">Enlaces</h3>
                <ul class="space-y-2">
                    <li><a href="#hero" class="text-md font-open-sans hover:text-accent-blue transition duration-300">Inicio</a></li>
                    <li><a href="#offers" class="text-md font-open-sans hover:text-accent-blue transition duration-300">Ofertas</a></li>
                    <li><a href="#products" class="text-md font-open-sans hover:text-accent-blue transition duration-300">Laptops</a></li>
                    <li><a href="#services" class="text-md font-open-sans hover:text-accent-blue transition duration-300">Reparaci√≥n</a></li>
                    <li><a href="#about" class="text-md font-open-sans hover:text-accent-blue transition duration-300">Sobre Nosotros</a></li>
                </ul>
            </div>

            <div class="flex flex-col items-start md:items-end">
                <h3 class="text-xl font-montserrat font-bold mb-4">S√≠guenos</h3>
                <div class="flex space-x-4 mb-6">
                    <a href="#" class="text-gray-400 hover:text-accent-blue transition duration-300 text-2xl"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="text-gray-400 hover:text-accent-blue transition duration-300 text-2xl"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-gray-400 hover:text-accent-blue transition duration-300 text-2xl"><i class="fab fa-twitter"></i></a>
                </div>
                <p class="text-sm font-open-sans text-gray-400">&copy; 2025 SIA TEC. Todos los derechos reservados.</p>
                <a href="#" class="text-sm font-open-sans text-gray-400 hover:text-accent-blue transition duration-300 mt-2">Pol√≠tica de Privacidad</a>
            </div>
        </div>
    </footer>

    <!-- Contenedor de botones flotantes -->
    <div class="floating-buttons-container">
        <!-- Bot√≥n flotante de WhatsApp -->
        <a href="https://wa.me/527713951347?text=Hola!%20Me%20gustar%C3%ADa%20hablar%20con%20un%20t%C3%A9cnico%20sobre%20una%20reparaci%C3%B3n."
            target="_blank"
            class="floating-button whatsapp">
            <i class="fab fa-whatsapp"></i>
            <span class="label">Hablar con un T√©cnico</span>
        </a>

        <!-- Bot√≥n flotante de Carrito -->
        <button id="floating-cart-btn" class="floating-button">
            <i class="fas fa-shopping-cart"></i>
            <span id="cart-count-floating" class="absolute -top-1 -right-1 bg-accent-green text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">0</span>
        </button>
    </div>

    <div id="cart-modal-overlay" class="modal-overlay">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-3xl font-montserrat font-bold">Tu Carrito</h3>
                <button id="close-cart-modal" class="text-gray-600 hover:text-gray-900 text-3xl focus:outline-none p-2 rounded-full hover:bg-gray-100">&times;</button>
            </div>
            <div id="cart-items-list" class="space-y-4 max-h-80 overflow-y-auto pr-2">
                <p class="text-gray-500 text-center" id="empty-cart-message">Tu carrito est√° vac√≠o.</p>
            </div>
            <div class="border-t border-gray-200 mt-6 pt-4 flex justify-between items-center">
                <span class="text-xl font-montserrat font-semibold">Total:</span>
                <span id="cart-total" class="text-2xl font-montserrat font-bold text-accent-blue">$0.00</span>
            </div>
            <button id="checkout-btn" class="w-full bg-accent-blue text-white font-montserrat font-semibold py-3 mt-8 rounded-full text-lg hover:bg-opacity-90 transition duration-300 btn-hover-effect rounded-xl">Finalizar Pedido</button>
        </div>
    </div>

    <div id="whatsapp-modal-overlay" class="modal-overlay">
        <div class="modal-content text-center">
            <div class="flex justify-end">
                <button id="close-whatsapp-modal" class="text-gray-600 hover:text-gray-900 text-3xl focus:outline-none p-2 rounded-full hover:bg-gray-100">&times;</button>
            </div>
            <i class="fab fa-whatsapp text-6xl text-green-500 mb-6"></i>
            <h3 class="text-3xl font-montserrat font-bold mb-4">¬°Casi Listo!</h3>
            <p class="text-lg font-open-sans mb-8">Est√°s a punto de finalizar tu pedido v√≠a WhatsApp Business. Haz clic en el bot√≥n para enviar los detalles y que uno de nuestros asesores te contacte.</p>
            <button id="send-whatsapp-btn" class="w-full bg-green-500 text-white font-montserrat font-semibold py-3 rounded-full text-lg hover:bg-green-600 transition duration-300 flex items-center justify-center space-x-3 rounded-xl">
                <i class="fab fa-whatsapp text-2xl"></i>
                <span>Enviar Pedido por WhatsApp</span>
            </button>
        </div>
    </div>

    <div id="diagnosis-modal-overlay" class="modal-overlay">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-3xl font-montserrat font-bold">Diagn√≥stico Inteligente ‚ú®</h3>
                <button id="close-diagnosis-modal" class="text-gray-600 hover:text-gray-900 text-3xl focus:outline-none p-2 rounded-full hover:bg-gray-100">&times;</button>
            </div>
            <p class="text-md font-open-sans mb-4">Describe el problema de tu laptop. Nuestro asistente de IA te dar√° un diagn√≥stico preliminar.</p>
            <textarea id="problem-description" class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-blue text-base font-open-sans resize-y h-32 mb-6" placeholder="Ejemplo: Mi laptop no enciende, solo parpadea una luz..."></textarea>
            <button id="get-diagnosis-btn" class="w-full bg-accent-blue text-white font-montserrat font-semibold py-3 rounded-full text-lg hover:bg-opacity-90 transition duration-300 btn-hover-effect rounded-xl">
                Obtener Diagn√≥stico
            </button>
            <div id="diagnosis-result" class="mt-8 p-4 bg-base-light rounded-xl border border-gray-200 hidden">
                <h4 class="text-xl font-montserrat font-bold mb-3">Resultado del Diagn√≥stico:</h4>
                <div id="diagnosis-text" class="text-md font-open-sans leading-relaxed"></div>
            </div>
            <div id="diagnosis-loader" class="loader hidden"></div>
            <p id="diagnosis-error" class="text-red-500 text-center mt-4 hidden">Ocurri√≥ un error al obtener el diagn√≥stico. Int√©ntalo de nuevo.</p>
        </div>
    </div >

    <!-- Nuevo Modal para el Asistente de Laptops -->
    <div id="laptop-assistant-modal-overlay" class="modal-overlay">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-3xl font-montserrat font-bold">Asesor de Equipos de Computo üßë‚Äçüíª</h3>
                <button id="close-laptop-assistant-modal" class="text-gray-600 hover:text-gray-900 text-3xl focus:outline-none p-2 rounded-full hover:bg-gray-100">&times;</button>
            </div>
            <p class="text-md font-open-sans mb-4">¬°Te ayudamos a encontrar el equipo de computo Ideal para ti! Responde a las siguientes preguntas:</p>

            <div class="mb-4">
                <label for="profession-input" class="block text-text-dark text-lg font-montserrat font-semibold mb-2">¬øA qu√© te dedicas?</label>
                <textarea id="profession-input" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-blue text-base font-open-sans resize-y h-24" placeholder="Ej: Estudiante de ingenier√≠a, dise√±ador gr√°fico, profesional de ventas..."></textarea>
            </div>

            <div class="mb-4">
                <label for="programs-input" class="block text-text-dark text-lg font-montserrat font-semibold mb-2">¬øQu√© programas o software utilizas?</label>
                <textarea id="programs-input" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-blue text-base font-open-sans resize-y h-24" placeholder="Ej: Suite Adobe (Photoshop, Illustrator), AutoCAD, Visual Studio Code, Microsoft Office, juegos..."></textarea>
            </div>

            <div class="mb-6">
                <label for="budget-input" class="block text-text-dark text-lg font-montserrat font-semibold mb-2">¬øCu√°l es tu presupuesto aproximado en MXN?</label>
                <input type="number" id="budget-input" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-blue text-base font-open-sans" placeholder="Ej: 15000, 25000, 35000" min="0">
            </div>

            <button id="get-laptop-recommendation-btn" class="w-full bg-purple-600 text-white font-montserrat font-semibold py-3 rounded-full text-lg hover:bg-opacity-90 transition duration-300 btn-hover-effect rounded-xl">
                Obtener Recomendaci√≥n
            </button>

            <div id="laptop-recommendation-result" class="mt-8 p-4 bg-base-light rounded-xl border border-gray-200 hidden">
                <h4 class="text-xl font-montserrat font-bold mb-3">Tu Laptop Ideal:</h4>
                <div id="recommendation-text" class="text-md font-open-sans leading-relaxed"></div>
            </div>
            <div id="laptop-recommendation-loader" class="loader hidden"></div>
            <p id="laptop-recommendation-error" class="text-red-500 text-center mt-4 hidden">Ocurri√≥ un error al obtener la recomendaci√≥n. Int√©ntalo de nuevo.</p>
        </div>
    </div>

    <div id="image-modal-overlay" class="modal-overlay">
        <div class="modal-content relative p-4 bg-white rounded-lg shadow-xl max-w-2xl lg:max-w-4xl text-center">
            <button id="close-image-modal" class="absolute top-2 right-2 text-gray-700 hover:text-gray-900 text-3xl font-bold transition-transform duration-300 transform hover:rotate-90 p-2 rounded-full hover:bg-gray-100">
                &times;
            </button>

            <div class="relative mb-4 flex items-center justify-center">
                <button id="modal-prev-btn" class="absolute left-0 top-1/2 -translate-y-1/2 bg-gray-800 text-white p-2 rounded-full z-20 opacity-70 hover:opacity-100 transition-opacity">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <img id="modal-image" src="" alt="Imagen de producto grande" class="max-w-full max-h-[70vh] mx-auto object-contain">
                <button id="modal-next-btn" class="absolute right-0 top-1/2 -translate-y-1/2 bg-gray-800 text-white p-2 rounded-full z-20 opacity-70 hover:opacity-100 transition-opacity">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <div id="modal-image-indicators" class="flex justify-center space-x-2 mt-2 mb-4">
                <!-- Los indicadores se a√±adir√°n din√°micamente aqu√≠ -->
            </div>

            <h3 id="modal-product-name" class="text-2xl font-montserrat font-bold mb-2"></h3>
            <p id="modal-product-description" class="text-md font-open-sans text-gray-700 text-left"></p>
        </div>
    </div>

    <script>
        // Array para almacenar los productos en el carrito
        let cart = [];

        // Variables globales para la galer√≠a de im√°genes del modal
        let currentProductImageUrls = [];
        let currentImageCarouselIndex = 0;

        // Datos de productos de ejemplo con stock y ofertas
        const products = [
            {
                id: 1,
                name: 'Lenovo Ultra Thinkpad E16 G2',
                originalPrice: 31888.88, // Precio original
                price: 28700, // Precio con descuento
                description: 'Gama Media <br> Procesador: Intel Core Ultra 7 155H <br> Ram: 16 GB DDR5 <br> Almacenamiento: 512‚ÄØ GB SSD NVME <br> Display: 16‚Äù Full HD <br> GPU: Intel Arc <br> Sistema Operativo: Windows 11.',
                image: 'https://p1-ofp.static.pub//medias/26365099349_E16G2_202403011025391713718517478.png',
                images: [ // M√∫ltiples im√°genes para el carrusel
                    'https://p1-ofp.static.pub//medias/26365099349_E16G2_202403011025391713718517478.png',
                    'https://placehold.co/800x600/FF5733/FFFFFF?text=Lenovo+E16+G2+Vista+Lateral',
                    'https://placehold.co/800x600/33FF57/FFFFFF?text=Lenovo+E16+G2+Teclado'
                ],
                stock: 5,
                isOnOffer: true,
                discountPercentage: '10%'
            },
            {
                id: 2,
                name: 'Lenovo ThinkPad P1 G3',
                originalPrice: 24375.00,
                price: 19500.00, // Precio con descuento
                description: 'Gama Alta <br> Procesador: Intel Xeon¬Æ W-10855M vPro <br> Ram: 16 GB DDR4 <br> Almacenamiento: 1 TB SSD NVME <br> Display: 15.6‚Äù FHD <br> GPU: NVIDIA¬Æ T2000 de 4GB <br> Sistema Operativo: Windows 11.',
                image: 'https://p1-ofp.static.pub/medias/bWFzdGVyfHJvb3R8Mjg5ODU4fGltYWdlL3BuZ3xoYWIvaGM5LzE0MTEwNjE3MDc1NzQyLnBuZ3w0MThjNDY4MjdkMzUyY2RiZTIwMDZkOTdkZWYxZTQyNWRjNTJlNDIyYThjMmYwNDUwZjk4YWQ4Njc1MWMzZDM1/22WS2P1P1N3.png',
                images: [
                    'https://p1-ofp.static.pub/medias/bWFzdGVyfHJvb3R8Mjg5ODU4fGltYWdlL3BuZ3xoYWIvaGM5LzE0MTEwNjE3MDc1NzQyLnBuZ3w0MThjNDY4MjdkMzUyY2RiZTIwMDZkOTdkZWYxZTQyNWRjNTJlNDIyYThjMmYwNDUwZjk4YWQ4Njc1MWMzZDM1/22WS2P1P1N3.png',
                    'https://placehold.co/800x600/3366FF/FFFFFF?text=Lenovo+P1+G3+√Ångulo',
                    'https://placehold.co/800x600/FFFF33/333333?text=Lenovo+P1+G3+Abierta'
                ],
                stock: 3,
                isOnOffer: true,
                discountPercentage: '20%'
            },
            {
                id: 3,
                name: 'Lenovo ThinkPad T480s',
                originalPrice: 13800.00, // Precio original
                price: 11500.00,
                description: 'Gama Media <br> Procesador: Intel Core i7-8650U <br> Ram: 24 GB DDR4 <br> Almacenamiento: 256‚ÄØ GB SSD <br> Display: 14‚Äù Full HD <br> GPU: Intel UHD Graphics 620 <br> Sistema Operativo: Windows 10 Pro.',
                image: 'https://p1-ofp.static.pub/medias/bWFzdGVyfC9lbWVhL2ltYWdlcy98NjYwMTd8aW1hZ2UvcG5nfC9lbWVhL2ltYWdlcy9oNWIvaDUzLzk2OTEwMjU4MzQwMTQucG5nfDUxM2UxYzc5ZThjYjVmZjAxMjA2OTFlYTQ3ZWY5MDUxNDczNTllOWIzMzRmNjJmOGM5NjM2MzIyYzJiNWQwNWI/thinkpad-t480s-400x300prod.png',
                images: [
                    'https://p1-ofp.static.pub/medias/bWFzdGVyfC9lbWVhL2ltYWdlcy98NjYwMTd8aW1hZ2UvcG5nfC9lbWVhL2ltYWdlcy9oNWIvaDUzLzk2OTEwMjU4MzQwMTQucG5nfDUxM2UxYzc5ZThjYjVmZjAxMjA2OTFlYTQ3ZWY5MDUxNDczNTllOWIzMzRmNjJmOGM5NjM2MzIyYzJiNWQwNWI/thinkpad-t480s-400x300prod.png',
                    'https://placehold.co/800x600/CC33FF/FFFFFF?text=Lenovo+T480s+Detalle+1',
                    'https://placehold.co/800x600/FF33CC/FFFFFF?text=Lenovo+T480s+Detalle+2'
                ],
                stock: 7,
                isOnOffer: true,
                discountPercentage: '20%'
            },
            {
                id: 11,
                name: 'Dell Latitude 7420 Touch',
                originalPrice: 13625, // Precio original
                price: 10900.00,
                description: 'Gama Media <br> Procesador: ¬†Intel Core i7-1185G7 <br> Ram: 16 GB DDR4 <br> Almacenamiento: 512 GB SSD Nvme <br> Display: 14" Full HD <br> GPU: Intel UHD Graphics 620 <br> Sistema Operativo: Windows 10 pro.',
                image: 'https://m.media-amazon.com/images/I/81zApF7wp4L._AC_SL1500_.jpg',
                images: [
                    'https://m.media-amazon.com/images/I/81zApF7wp4L._AC_SL1500_.jpg',
                    'https://placehold.co/800x600/AACCFF/000000?text=Dell+7420+Touch+Vista+Superior',
                    'https://placehold.co/800x600/FFCCAA/000000?text=Dell+7420+Touch+Plegada'
                ],
                stock: 7,
                isOnOffer: true,
                discountPercentage: '20%'
            },
            {
                id: 4,
                name: 'Lenovo ThinkPad P15s G1',
                price: 18500.00,
                description: 'Gama Alta ¬†<br> Procesador: Intel Core i7-10510U <br> Ram: 16 GB DDR4 <br> Almacenamiento: 512 GB SSD <br> Display: 15.6‚Äù Full HD <br> GPU: NVIDIA Quadro P520 de 2 GB <br> Sistema Operativo: Windows 11.',
                image: 'https://p1-ofp.static.pub/medias/bWFzdGVyfHJvb3R8MjU1Nzk3fGltYWdlL2pwZWd8aGJhL2hkZC8xMDg0NTAyNjE1NjU3NC5qcGd8NmY1Mjc4MjhiNWE4ZTAyZGMzZDRiMGYzMGZiNzNlNWUyMDAzOTg4ZjUxYWUzYmQ3NGRlZGQyZTJhMGRhMWM4Ng/lenovo-laptop-thinkpad-P15s-gallery-2.jpg',
                images: [
                    'https://p1-ofp.static.pub/medias/bWFzdGVyfHJvb3R8MjU1Nzk3fGltYWdlL2pwZWd8aGJhL2hkZC8xMDg0NTAyNjE1NjU3NC5qcGd8NmY1Mjc4MjhiNWE4ZTAyZGMzZDRiMGYzMGZiNzNlNWUyMDAzOTg4ZjUxYWUzYmQ3NGRlZGQyZTJhMGRhMWM4Ng/lenovo-laptop-thinkpad-P15s-gallery-2.jpg'
                ],
                stock: 4,
                isOnOffer: false
            },
            {
                id: 5,
                name: 'Dell Latitude 7330 Touch 2 en 1',
                price: 11000.00,
                description: 'Gama Media ¬†<br> Procesador: Intel core i7-1265U <br> Ram: 16 GB DDR4 <br> Almacenamiento: 256 GB SSD Nvme <br> Display: 13,3" Full HD <br> GPU: Intel Iris Xe Graphics <br> Sistema Operativo: Windows 11.',
                image: 'https://m.media-amazon.com/images/I/61v3GfK7W9L._AC_SL1000_.jpg' ,
                images: [
                    'https://m.media-amazon.com/images/I/61v3GfK7W9L._AC_SL1000_.jpg'
                ],
                stock: 6,
                isOnOffer: false
            },
            {
                id: 6,
                name: 'Dell G15 5520 Gaming',
                price: 18900.00,
                description: 'Gama Alta <br> Procesador: Intel Core i7 12700H <br> Ram: 32 GB DDR5 <br> Almacenamiento: 512 GB SSD <br> Display: 15.6‚Äù Full HD 120 hz <br> GPU: NVIDIA RTX 3060 6GB <br> Sistema Operativo: Windows 11.',
                image: 'https://i.ebayimg.com/images/g/R7UAAOSwLL1n8~br/s-l1600.webp',
                images: [
                    'https://i.ebayimg.com/images/g/R7UAAOSwLL1n8~br/s-l1600.webp'
                ],
                stock: 8,
                isOnOffer: false
            },
            {
                id: 7,
                name: 'Dell Latitude 5420 ',
                price: 7200.00,
                description:'Gama Media <br> Procesador: Intel Core i5-12450H <br> Ram: 16 GB DDR4 <br> Almacenamiento: 256 GB SSD Nvme ¬†<br> Display: 14" Full HD ¬†<br> GPU: Intel UHD Graphics 620 <br> Sistema Operativo: Windows 10 pro.',
                image: 'https://m.media-amazon.com/images/I/51pMLgaqblL._AC_SL1000_.jpg',
                images: [
                    'https://m.media-amazon.com/images/I/51pMLgaqblL._AC_SL1000_.jpg',
                    'https://placehold.co/800x600/FFCC00/FFFFFF?text=Dell+Latitude+5420+Vista+Lateral',
                    'https://placehold.co/800x600/00FFCC/FFFFFF?text=Dell+Latitude+5420+Teclado'
                ],
                stock: 8,
                isOnOffer: false
            },
            {
                id: 8,
                name: 'Dell Latitude 7490',
                price: 5800.00,
                description: 'Gama Media <br> Procesador: Intel Core i5-8250U <br> Ram: 8GB DDR4 <br> Almacenamiento: 256 GB SSD Nvme <br> Display: 14" Full HD <br> GPU: Intel UHD Graphics 620 <br> Sistema Operativo: Windows 10 pro.',
                image: 'https://i.ibb.co/mrj3R19C/Photo-Room-20250607-141610.png',
                images: [
                    'https://i.ibb.co/mrj3R19C/Photo-Room-20250607-141610.png'
                ],
                stock: 10,
                isOnOffer: false
            },
            {
                id: 9,
                name: 'Dell Latitude 5500 Touch',
                price: 6900.00,
                description: 'Gama Media <br> Procesador: Intel Core i5-8365U <br> Ram: 16 GB DDR4 <br> Almacenamiento: 256 GB SSD Nvme <br> Display: 15,6" Full HD <br> GPU: Intel UHD Graphics 620 <br> Sistema Operativo: Windows 10 pro.',
                image: 'https://m.media-amazon.com/images/I/51EWAGvEjWL._AC_SL1500_.jpg',
                images: [
                    'https://m.media-amazon.com/images/I/51EWAGvEjWL._AC_SL1500_.jpg'
                ],
                stock: 10,
                isOnOffer: false
            },
            // Nuevos productos para licencias de Windows
            {
                id: 100,
                name: 'Licencia Windows 10 Pro (ESD)',
                price: 450.00,
                description: 'Licencia digital para Windows 10 Pro. Ideal para usuarios empresariales y avanzados. Activaci√≥n instant√°nea.',
                image: 'https://placehold.co/200x150/0078D4/FFFFFF?text=Windows+10+Pro',
                images: ['https://placehold.co/200x150/0078D4/FFFFFF?text=Windows+10+Pro'],
                stock: 99,
                isOnOffer: false
            },
            {
                id: 101,
                name: 'Licencia Windows 11 Pro (ESD)',
                price: 650.00,
                description: 'Licencia digital para Windows 11 Pro. Disfruta de la √∫ltima experiencia Windows con seguridad y caracter√≠sticas mejoradas.',
                image: 'https://placehold.co/200x150/0078D4/FFFFFF?text=Windows+11+Pro',
                images: ['https://placehold.co/200x150/0078D4/FFFFFF?text=Windows+11+Pro'],
                stock: 99,
                isOnOffer: false
            },
            {
                id: 102,
                name: 'Microsoft Office Pro PLus 2021 (ESD)',
                price: 450.00,
                description: 'Licencia digital para Microsoft Office Pro Plus 2019. Incluye Word, Excel, PowerPoint y m√°s. Activaci√≥n instant√°nea.',
                image: 'https://placehold.co/200x150/0078D4/FFFFFF?text=Windows+11+Pro',
                images: ['https://placehold.co/200x150/0078D4/FFFFFF?text=Windows+11+Pro'],
                stock: 99,
                isOnOffer: false
            },
            {
                id: 103,
                name: 'Microsoft Office Pro PLus 2024 (ESD)',
                price: 600.00,
                description: 'Licencia digital para Microsoft Office Pro Plus 2024. Incluye las √∫ltimas versiones de Word, Excel, PowerPoint y m√°s. Activaci√≥n instant√°nea.',
                image: 'https://placehold.co/200x150/0078D4/FFFFFF?text=Windows+11+Pro',
                images: ['https://placehold.co/200x150/0078D4/FFFFFF?text=Windows+11+Pro'],
                stock: 99,
                isOnOffer: false
            },
            {
                id: 104,
                name: ' ESET NOD32 (2 A√ëOS) (ESD)',
                price: 650.00,
                description: 'Antivirus ESET NOD32 para 2 a√±os. Protecci√≥n avanzada contra malware, ransomware y amenazas en l√≠nea. Licencia digital.',
                image: 'https://placehold.co/200x150/0078D4/FFFFFF?text=Windows+11+Pro',
                images: ['https://placehold.co/200x150/0078D4/FFFFFF?text=Windows+11+Pro'],
                stock: 99,
                isOnOffer: false
            }        
        ];
        // Referencias a elementos del DOM
        const productGrid = document.getElementById('product-grid');
        const offersGrid = document.getElementById('offers-grid');
        const cartIcon = document.getElementById('cart-icon');
        const cartCount = document.getElementById('cart-count');
        const cartModalOverlay = document.getElementById('cart-modal-overlay');
        const closeCartModalBtn = document.getElementById('close-cart-modal');
        const cartItemsList = document.getElementById('cart-items-list');
        const cartTotal = document.getElementById('cart-total');
        const checkoutBtn = document.getElementById('checkout-btn');
        const emptyCartMessage = document.getElementById('empty-cart-message');

        const whatsappModalOverlay = document.getElementById('whatsapp-modal-overlay');
        const closeWhatsappModalBtn = document.getElementById('close-whatsapp-modal');
        const sendWhatsappBtn = document.getElementById('send-whatsapp-btn');

        const searchToggle = document.getElementById('search-toggle');
        const searchInput = document.getElementById('search-input');

        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        // Referencias para el Asistente de Diagn√≥stico
        const aiDiagnosisBtn = document.getElementById('ai-diagnosis-btn');
        const diagnosisModalOverlay = document.getElementById('diagnosis-modal-overlay');
        const closeDiagnosisModalBtn = document.getElementById('close-diagnosis-modal');
        const problemDescriptionTextarea = document.getElementById('problem-description');
        const getDiagnosisBtn = document.getElementById('get-diagnosis-btn');
        const diagnosisResultDiv = document.getElementById('diagnosis-result');
        const diagnosisTextDiv = document.getElementById('diagnosis-text');
        const diagnosisLoader = document.getElementById('diagnosis-loader');
        const diagnosisError = document.getElementById('diagnosis-error');

        // Referencias para el modal de imagen (incluyendo los nuevos elementos para la galer√≠a)
        const imageModalOverlay = document.getElementById('image-modal-overlay');
        const closeModalImageBtn = document.getElementById('close-image-modal');
        const modalImage = document.getElementById('modal-image');
        const modalProductName = document.getElementById('modal-product-name');
        const modalProductDescription = document.getElementById('modal-product-description');
        const modalPrevBtn = document.getElementById('modal-prev-btn'); // Nuevo
        const modalNextBtn = document.getElementById('modal-next-btn'); // Nuevo
        const modalImageIndicators = document.getElementById('modal-image-indicators'); // Nuevo

        // Get references for the new laptop assistant modal elements
        const laptopAssistantBtn = document.getElementById('laptop-assistant-btn');
        const laptopAssistantModalOverlay = document.getElementById('laptop-assistant-modal-overlay');
        const closeLaptopAssistantModalBtn = document.getElementById('close-laptop-assistant-modal');
        const professionInput = document.getElementById('profession-input');
        const programsInput = document.getElementById('programs-input');
        const budgetInput = document.getElementById('budget-input');
        const getLaptopRecommendationBtn = document.getElementById('get-laptop-recommendation-btn');
        const laptopRecommendationResult = document.getElementById('laptop-recommendation-result');
        const recommendationText = document.getElementById('recommendation-text');
        const laptopRecommendationLoader = document.getElementById('laptop-recommendation-loader');
        const laptopRecommendationError = document.getElementById('laptop-recommendation-error');

        // Function to open the laptop assistant modal
        function openLaptopAssistantModal() {
            laptopAssistantModalOverlay.classList.add('active');
            // Clear previous results and inputs
            professionInput.value = '';
            programsInput.value = '';
            budgetInput.value = '';
            recommendationText.innerHTML = '';
            laptopRecommendationResult.classList.add('hidden');
            laptopRecommendationLoader.classList.add('hidden');
            laptopRecommendationError.classList.add('hidden');
        }

        // Function to close the laptop assistant modal
        function closeLaptopAssistantModal() {
            laptopAssistantModalOverlay.classList.remove('active');
        }

        // Event listeners for the laptop assistant modal
        laptopAssistantBtn.addEventListener('click', openLaptopAssistantModal);
        closeLaptopAssistantModalBtn.addEventListener('click', closeLaptopAssistantModal);
        laptopAssistantModalOverlay.addEventListener('click', (e) => {
            if (e.target === laptopAssistantModalOverlay) {
                closeLaptopAssistantModal();
            }
        });

        // --- NEW: Laptop Recommendation Logic with Gemini API ---
        getLaptopRecommendationBtn.addEventListener('click', async () => {
            const profession = professionInput.value.trim();
            const programs = programsInput.value.trim();
            const budget = budgetInput.value.trim();

            if (!profession || !programs || !budget) {
                showTemporaryMessage('Por favor, completa todos los campos para la recomendaci√≥n.', 'bg-red-500');
                return;
            }

            // Show loader, hide previous results/errors
            laptopRecommendationLoader.classList.remove('hidden');
            laptopRecommendationResult.classList.add('hidden');
            laptopRecommendationError.classList.add('hidden');
            recommendationText.innerHTML = '';

            try {
                let chatHistory = [];
                // Construct the prompt for Gemini, including the full products catalog
                const prompt = `Act√∫a como un asesor experto de laptops para SIA TEC. Tu objetivo es recomendar la laptop m√°s adecuada de nuestro cat√°logo, bas√°ndote en la profesi√≥n, los programas que utiliza y el presupuesto del cliente.

**Informaci√≥n del Cliente:**
- Profesi√≥n: ${profession}
- Programas/Software: ${programs}
- Presupuesto: ${budget} MXN

**Cat√°logo de Laptops de SIA TEC (en formato JSON):**
${JSON.stringify(products.filter(p => p.id < 100), null, 2)}

Por favor, analiza el cat√°logo y la informaci√≥n del cliente. Recomienda el modelo o modelos de laptop que mejor se adapten, justificando tu elecci√≥n con base en sus especificaciones (procesador, RAM, almacenamiento, GPU, etc.) y precio. Si no hay una laptop que cumpla con todos los criterios de presupuesto, sugiere la opci√≥n m√°s cercana y expl√≠canos por qu√©.

Al final de tu recomendaci√≥n, si el cliente a√∫n no est√° seguro o necesita m√°s asistencia, a√±ade la siguiente frase exacta: "Si a√∫n no est√°s seguro o necesitas una asesor√≠a m√°s personalizada, no dudes en comunicarte con un t√©cnico de SIA TEC. Puedes contactarnos por WhatsApp o llamarnos al +52 77 1395 1347."
`;
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                const payload = { contents: chatHistory };
                const apiKey = "AIzaSyAg_b69MDCWEwcj1KvW3M86S2xEug9bNp0"; // If you want to use models other than gemini-2.0-flash or imagen-3.0-generate-002, provide an API key here. Otherwise, leave this as-is.
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    recommendationText.innerHTML = text.replace(/\n/g, '<br>'); // Display HTML breaks for newlines
                    laptopRecommendationResult.classList.remove('hidden');
                } else {
                    laptopRecommendationError.classList.remove('hidden');
                    console.error('Estructura de respuesta inesperada del LLM:', result);
                    recommendationText.innerHTML = "No pudimos generar una recomendaci√≥n en este momento. Si a√∫n no est√°s seguro o necesitas una asesor√≠a m√°s personalizada, no dudes en comunicarte con un t√©cnico de SIA TEC. Puedes contactarnos por WhatsApp o llamarnos al +52 77 1395 1347.";
                    laptopRecommendationResult.classList.remove('hidden');
                }
            } catch (error) {
                laptopRecommendationError.classList.remove('hidden');
                console.error('Error al llamar a la API de Gemini para la recomendaci√≥n:', error);
                recommendationText.innerHTML = "Ocurri√≥ un error al obtener la recomendaci√≥n. Si a√∫n no est√°s seguro o necesitas una asesor√≠a m√°s personalizada, no dudes en comunicarte con un t√©cnico de SIA TEC. Puedes contactarnos por WhatsApp o llamarnos al +52 77 1395 1347.";
                laptopRecommendationResult.classList.remove('hidden');
            } finally {
                laptopRecommendationLoader.classList.add('hidden');
            }
        });
        // --- END NEW: Laptop Recommendation Logic ---

        // Funci√≥n para renderizar un producto individual (usado por ambas secciones)
        function createProductCard(product) {
            const productCard = document.createElement('div');
            productCard.className = 'product-card bg-white p-6 rounded-xl shadow-md flex flex-col justify-between transform transition-all duration-300 ease-in-out hover:scale-105 relative';

            let priceHtml = `<span class="text-xl font-montserrat font-bold text-white">$${product.price.toFixed(2)}</span>`; // Ajustado tama√±o y color para la imagen
            let offerBadge = '';

            if (product.isOnOffer) {
                priceHtml = `
                    <span class="original-price text-sm text-gray-300 mr-1">$${product.originalPrice.toFixed(2)}</span> <!-- Ajustado tama√±o y color -->
                    <span class="text-xl font-montserrat font-bold text-white">$${product.price.toFixed(2)}</span>
                `;
                offerBadge = `<span class="offer-badge">¬°${product.discountPercentage} OFF!</span>`;
            }

            const stockText = product.stock > 0 ? `Stock: ${product.stock}` : 'Agotado';
            const stockColor = product.stock > 0 ? 'text-gray-500' : 'text-red-500 font-semibold';
            const buttonDisabled = product.stock === 0 ? 'opacity-50 cursor-not-allowed' : '';
            const buttonText = product.stock === 0 ? 'Agotado' : '<i class="fas fa-cart-plus mr-2"></i>Agregar';

            productCard.innerHTML = `
                ${offerBadge}
                <div class="relative w-full"> <!-- Contenedor para la imagen y el precio, con posici√≥n relativa -->
                    <img src="${product.image}" alt="${product.name}" class="w-full h-32 md:h-48 object-contain rounded-lg cursor-pointer" data-full-image="${product.image}" data-product-id="${product.id}">
                    <div class="absolute bottom-2 right-2 bg-black/70 rounded-lg px-2 py-1 flex items-center justify-center"> <!-- Precio posicionado absolutamente -->
                        ${priceHtml}
                    </div>
                </div>
                <h3 class="text-xl font-montserrat font-semibold mt-4 mb-2">${product.name}</h3> <!-- Margen ajustado despu√©s del bloque de imagen/precio -->
                <p class="text-xs text-gray-500 mb-2">(Haz clic en la imagen para m√°s detalles)</p>
                <p class="text-sm font-open-sans text-gray-600 mb-4 h-20 overflow-hidden">${product.description}</p>
                <p class="text-sm font-open-sans ${stockColor} mb-4">${stockText}</p>
                <div class="flex justify-center mt-auto"> <!-- Contenedor para centrar el bot√≥n -->
                    <button data-product-id="${product.id}" class="add-to-cart-btn bg-accent-blue text-white px-6 py-3 rounded-full text-lg font-semibold hover:bg-opacity-90 transition duration-300 btn-hover-effect rounded-xl ${buttonDisabled}" ${product.stock === 0 ? 'disabled' : ''}>
                        ${buttonText}
                    </button>
                </div>
            `;
            return productCard;
        }

        // Funci√≥n para renderizar los productos en la secci√≥n principal
        function renderProducts() {
            productGrid.innerHTML = '';
            products.filter(p => !p.isOnOffer && p.id < 100).forEach(product => { // Mostrar solo laptops (id < 100) y que NO est√°n en oferta aqu√≠
                productGrid.appendChild(createProductCard(product));
            });
            attachAddToCartListeners();
            attachImageClickListeners();
        }

        // Funci√≥n para renderizar los productos en oferta
        function renderOffers() {
            offersGrid.innerHTML = '';
            products.filter(p => p.isOnOffer).forEach(product => {
                offersGrid.appendChild(createProductCard(product));
            });
            attachAddToCartListeners();
            attachImageClickListeners();
        }

        // Funci√≥n para a√±adir un producto al carrito
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                if (product.stock <= 0) {
                    showTemporaryMessage('¬°Producto agotado!', 'bg-red-500');
                    return;
                }

                const existingItem = cart.find(item => item.id === productId);
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({ ...product, quantity: 1 });
                }
                product.stock--; // Decrementar stock (si es una laptop f√≠sica)
                updateCartUI();
                renderProducts(); // Re-renderizar productos y ofertas para reflejar cambios de stock
                renderOffers();
                showTemporaryMessage('Producto agregado al carrito!', 'bg-accent-green');
            }
        }

        // Funci√≥n para eliminar un producto del carrito
        function removeFromCart(productId) {
            const productInCart = cart.find(item => item.id === productId);
            if (productInCart) {
                const originalProduct = products.find(p => p.id === productId);
                if (originalProduct && originalProduct.id < 100) { // Solo devolver stock si es una laptop f√≠sica
                    originalProduct.stock += productInCart.quantity;
                }
                cart = cart.filter(item => item.id !== productId);
                updateCartUI();
                renderProducts(); // Re-renderizar productos y ofertas para reflejar cambios de stock
                renderOffers();
            }
        }


        // Funci√≥n para adjuntar event listeners a los botones "Agregar al Carrito"
        function attachAddToCartListeners() {
            document.querySelectorAll('.add-to-cart-btn').forEach(button => {
                button.removeEventListener('click', handleAddToCartClick); // Evitar duplicados
                button.addEventListener('click', handleAddToCartClick);
            });
        }

        // Handler para el clic en "Agregar al Carrito"
        function handleAddToCartClick(event) {
            const productId = parseInt(event.currentTarget.dataset.productId);
            addToCart(productId);
        }

        // Funci√≥n para actualizar la interfaz del carrito
        function updateCartUI() {
            const totalItemsInCart = cart.reduce((sum, item) => sum + item.quantity, 0);

            cartCount.textContent = totalItemsInCart;
            document.getElementById('cart-count-floating').textContent = totalItemsInCart;

            cartItemsList.innerHTML = '';
            let total = 0;

            if (cart.length === 0) {
                emptyCartMessage.classList.remove('hidden');
            } else {
                emptyCartMessage.classList.add('hidden');
                cart.forEach(item => {
                    const listItem = document.createElement('div');
                    listItem.className = 'flex justify-between items-center p-3 bg-base-light rounded-lg shadow-sm';
                    listItem.innerHTML = `
                        <div class="flex items-center">
                            <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded-md mr-4">
                            <div>
                                <h4 class="font-montserrat font-semibold">${item.name}</h4>
                                <p class="text-sm text-gray-600">Cantidad: ${item.quantity}</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="font-montserrat font-bold text-accent-blue">$${(item.price * item.quantity).toFixed(2)}</span>
                            <button data-product-id="${item.id}" class="remove-from-cart-btn text-red-500 hover:text-red-700 transition duration-300 text-lg">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    `;
                    cartItemsList.appendChild(listItem);
                    total += item.price * item.quantity;
                });

                document.querySelectorAll('.remove-from-cart-btn').forEach(button => {
                    button.addEventListener('click', (event) => {
                        const productId = parseInt(event.currentTarget.dataset.productId);
                        removeFromCart(productId);
                    });
                });
            }
            cartTotal.textContent = `$${total.toFixed(2)}`;
        }

        // Funci√≥n para mostrar un mensaje temporal (ej. "Producto agregado")
        function showTemporaryMessage(message, bgColorClass) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `fixed bottom-8 left-1/2 -translate-x-1/2 ${bgColorClass} text-white px-6 py-3 rounded-full shadow-lg z-50 transition-all duration-300 ease-out opacity-0 transform translate-y-4`;
            messageDiv.textContent = message;
            document.body.appendChild(messageDiv);

            setTimeout(() => {
                messageDiv.classList.add('opacity-100', 'translate-y-0');
            }, 10);

            setTimeout(() => {
                messageDiv.classList.remove('opacity-100', 'translate-y-0');
                messageDiv.classList.add('opacity-0', 'translate-y-4');
                messageDiv.addEventListener('transitionend', () => messageDiv.remove());
            }, 3000);
        }

        // Abrir/Cerrar Carrito Modal
        cartIcon.addEventListener('click', () => {
            cartModalOverlay.classList.add('active');
        });
        document.getElementById('floating-cart-btn').addEventListener('click', () => {
            cartModalOverlay.classList.add('active');
        });

        closeCartModalBtn.addEventListener('click', () => {
            cartModalOverlay.classList.remove('active');
        });

        cartModalOverlay.addEventListener('click', (event) => {
            if (event.target === cartModalOverlay) {
                cartModalOverlay.classList.remove('active');
            }
        });

        // Abrir/Cerrar WhatsApp Modal
        checkoutBtn.addEventListener('click', () => {
            if (cart.length === 0) {
                showTemporaryMessage('Tu carrito est√° vac√≠o. Agrega productos antes de finalizar.', 'bg-red-500');
                return;
            }
            cartModalOverlay.classList.remove('active');
            whatsappModalOverlay.classList.add('active');
        });

        closeWhatsappModalBtn.addEventListener('click', () => {
            whatsappModalOverlay.classList.remove('active');
        });

        whatsappModalOverlay.addEventListener('click', (event) => {
            if (event.target === whatsappModalOverlay) {
                whatsappModalOverlay.classList.remove('active');
            }
        });

        // Generar enlace de WhatsApp con el pedido
        sendWhatsappBtn.addEventListener('click', () => {
            let orderDetails = "¬°Hola SIA TEC! Me gustar√≠a hacer el siguiente pedido:\n\n";
            cart.forEach(item => {
                orderDetails += `- ${item.name} (x${item.quantity}) - $${(item.price * item.quantity).toFixed(2)}\n`;
            });
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            orderDetails += `\nTotal: $${total.toFixed(2)}\n\n`;
            orderDetails += "Por favor, cont√°ctenme para concretar la compra.";

            const whatsappNumber = "527713951347";

            const whatsappLink = `https://api.whatsapp.com/send?phone=${whatsappNumber}&text=${encodeURIComponent(orderDetails)}`;

            window.open(whatsappLink, '_blank');
            cart = [];
            updateCartUI();
            whatsappModalOverlay.classList.remove('active');
            showTemporaryMessage('Pedido enviado a WhatsApp. ¬°Pronto te contactaremos!', 'bg-accent-green');
        });

        // Funcionalidad de la barra de b√∫squeda
        searchToggle.addEventListener('click', () => {
            searchInput.classList.toggle('hidden');
            if (!searchInput.classList.contains('hidden')) {
                searchInput.classList.add('w-full', 'md:w-48');
                searchInput.focus();
            } else {
                searchInput.classList.remove('w-full', 'md:w-48');
            }
        });

        // Funcionalidad del bot√≥n de cotizar reparaci√≥n
        document.getElementById('cotizar-reparacion-btn').addEventListener('click', (event) => {
            event.preventDefault();
            const whatsappNumber = "527713951347";
            const message = "¬°Hola SIA TEC! Me gustar√≠a solicitar una cotizaci√≥n para un servicio de reparaci√≥n de laptop. ¬øPodr√≠an darme m√°s informaci√≥n?";
            const whatsappLink = `https://api.whatsapp.com/send?phone=${whatsappNumber}&text=${encodeURIComponent(message)}`;
            window.open(whatsappLink, '_blank');
        });

        // Funcionalidad para el men√∫ m√≥vil
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Cerrar men√∫ m√≥vil al hacer clic en un enlace
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        // --- Funcionalidad del Asistente de Diagn√≥stico Inteligente (Gemini API) ---

        // Abrir/Cerrar Modal de Diagn√≥stico
        aiDiagnosisBtn.addEventListener('click', () => {
            diagnosisModalOverlay.classList.add('active');
            problemDescriptionTextarea.value = '';
            diagnosisResultDiv.classList.add('hidden');
            diagnosisError.classList.add('hidden');
        });

        closeDiagnosisModalBtn.addEventListener('click', () => {
            diagnosisModalOverlay.classList.remove('active');
        });

        diagnosisModalOverlay.addEventListener('click', (event) => {
            if (event.target === diagnosisModalOverlay) {
                diagnosisModalOverlay.classList.remove('active');
            }
        });

        // Obtener Diagn√≥stico del LLM
        getDiagnosisBtn.addEventListener('click', async () => {
            const problemDescription = problemDescriptionTextarea.value.trim();
            if (!problemDescription) {
                showTemporaryMessage('Por favor, describe el problema de tu laptop.', 'bg-red-500');
                return;
            }

            diagnosisResultDiv.classList.add('hidden');
            diagnosisError.classList.add('hidden');
            diagnosisLoader.classList.remove('hidden');

            try {
                let chatHistory = [];
                const prompt = `Act√∫a como un t√©cnico experto en reparaci√≥n de laptops de SIA TEC. El usuario ha descrito un problema con su laptop. Basado en la siguiente descripci√≥n, proporciona un diagn√≥stico preliminar, posibles causas y sugiere los pasos iniciales que el usuario podr√≠a intentar, o indica cu√°ndo es necesario un servicio profesional. S√© conciso y profesional, usa un lenguaje claro y f√°cil de entender. Descripci√≥n del problema: ${problemDescription}`;
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                const payload = { contents: chatHistory };
                const apiKey = "AIzaSyAg_b69MDCWEwcj1KvW3M86S2xEug9bNp0";  // If you want to use models other than gemini-2.0-flash or imagen-3.0-generate-002, provide an API key here. Otherwise, leave this as-is.
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    diagnosisTextDiv.innerHTML = text.replace(/\n/g, '<br>');
                    diagnosisResultDiv.classList.remove('hidden');
                } else {
                    diagnosisError.classList.remove('hidden');
                    console.error('Estructura de respuesta inesperada del LLM:', result);
                }
            } catch (error) {
                diagnosisError.classList.remove('hidden');
                console.error('Error al llamar a la API de Gemini:', error);
            } finally {
                diagnosisLoader.classList.add('hidden');
            }
        });

        // --- Funcionalidad de la galer√≠a de im√°genes en el modal de zoom ---

        // Funci√≥n para actualizar la imagen del modal y los indicadores
        function updateModalImageAndIndicators() {
            modalImage.src = currentProductImageUrls[currentImageCarouselIndex];

            // Ocultar/mostrar flechas si solo hay una imagen
            if (currentProductImageUrls.length <= 1) {
                modalPrevBtn.classList.add('hidden');
                modalNextBtn.classList.add('hidden');
                modalImageIndicators.classList.add('hidden');
            } else {
                modalPrevBtn.classList.remove('hidden');
                modalNextBtn.classList.remove('hidden');
                modalImageIndicators.classList.remove('hidden');
            }

            modalImageIndicators.innerHTML = ''; // Limpiar indicadores existentes
            currentProductImageUrls.forEach((_, index) => {
                const dot = document.createElement('span');
                dot.className = `inline-block w-3 h-3 rounded-full bg-gray-400 cursor-pointer mx-1 transition-colors ${index === currentImageCarouselIndex ? 'bg-accent-blue' : ''}`;
                dot.addEventListener('click', () => {
                    currentImageCarouselIndex = index;
                    updateModalImageAndIndicators();
                });
                modalImageIndicators.appendChild(dot);
            });
        }

        // Event listener para abrir el modal de imagen
        function attachImageClickListeners() {
            document.querySelectorAll('.product-card img').forEach(img => {
                img.addEventListener('click', (event) => {
                    const productId = parseInt(event.target.dataset.productId);
                    const product = products.find(p => p.id === productId);

                    if (product && product.images && product.images.length > 0) {
                        currentProductImageUrls = product.images;
                        currentImageCarouselIndex = 0; // Siempre empezar por la primera imagen al abrir
                        updateModalImageAndIndicators();
                    } else {
                        // Fallback si no hay array de im√°genes o est√° vac√≠o
                        modalImage.src = event.target.src;
                        currentProductImageUrls = [event.target.src]; // Solo una imagen
                        currentImageCarouselIndex = 0;
                        updateModalImageAndIndicators(); // Para ocultar nav/indicadores
                    }

                    if (product) {
                        modalProductName.textContent = product.name;
                        modalProductDescription.innerHTML = product.description.replace(/<br>/g, '<br>');
                    } else {
                        modalProductName.textContent = '';
                        modalProductDescription.textContent = '';
                    }

                    imageModalOverlay.classList.add('active');
                });
            });
        }

        // Navegaci√≥n del carrusel: Bot√≥n Anterior
        modalPrevBtn.addEventListener('click', () => {
            currentImageCarouselIndex = (currentImageCarouselIndex - 1 + currentProductImageUrls.length) % currentProductImageUrls.length;
            updateModalImageAndIndicators();
        });

        // Navegaci√≥n del carrusel: Bot√≥n Siguiente
        modalNextBtn.addEventListener('click', () => {
            currentImageCarouselIndex = (currentImageCarouselIndex + 1) % currentProductImageUrls.length;
            updateModalImageAndIndicators();
        });

        // Cerrar modal de imagen
        closeModalImageBtn.addEventListener('click', () => {
            imageModalOverlay.classList.remove('active');
        });

        // Cerrar modal al hacer clic fuera del contenido
        imageModalOverlay.addEventListener('click', (event) => {
            if (event.target === imageModalOverlay) {
                imageModalOverlay.classList.remove('active');
            }
        });

        // Inicializar la p√°gina
        document.addEventListener('DOMContentLoaded', () => {
            renderOffers();
            renderProducts();
            updateCartUI();
        });
    </script>
</body>
</html>
